<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Architecture Overview — Twin2Clouds Documentation</title>
    <link rel="icon" type="image/x-icon" href="../references/favicon.ico">
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="../css/docs_styles.css" />
</head>

<body>

    <div class="layout">
        <aside id="nav-placeholder"></aside>

        <main class="p-4">
            <h1 class="mb-3">
                <i class="fa-solid fa-sitemap me-2"></i> Architecture Overview
            </h1>

            <p class="text-muted mb-4">
                Understanding the multi-layered Digital Twin architecture and cloud service mappings.
            </p>

            <!-- System Overview -->
            <div class="card mb-4">
                <h2 class="mb-3"><i class="fa-solid fa-diagram-project me-2"></i>System Overview</h2>
                <p>
                    Twin2Clouds implements a <strong>5-layer Digital Twin architecture</strong> designed to optimize
                    cost by selecting the most cost-effective cloud provider for each architectural layer. The system
                    evaluates AWS, Azure, and Google Cloud Platform (GCP) services and determines the optimal
                    configuration based on given workload parameters.
                </p>
                <img src="../references/layer_architecture_overview_1763755975125.png"
                    alt="5-Layer Architecture Diagram" class="img-fluid rounded shadow mt-3" style="max-width: 100%;">
            </div>

            <!-- Layer Descriptions -->
            <div class="card mb-4">
                <h2 class="mb-3"><i class="fa-solid fa-layer-group me-2"></i>Architecture Layers</h2>

                <h3 class="mt-4 mb-2"><i class="fa-solid fa-1 me-2 text-primary"></i>Layer 1: Data Acquisition &
                    Processing</h3>
                <p><strong>Purpose:</strong> Ingest and process telemetry data from IoT devices.</p>
                <p><strong>Services:</strong></p>
                <ul>
                    <li><i class="fa-brands fa-aws text-warning"></i> <strong>AWS:</strong> IoT Core</li>
                    <li><i class="fa-brands fa-microsoft text-info"></i> <strong>Azure:</strong> IoT Hub</li>
                    <li><i class="fa-brands fa-google text-success"></i> <strong>GCP:</strong> Cloud IoT Core</li>
                </ul>
                <p><strong>Cost Factors:</strong></p>
                <ul>
                    <li>Number of connected devices</li>
                    <li>Message frequency (messages per month)</li>
                    <li>Data ingestion volume</li>
                    <li>Rules engine operations</li>
                </ul>

                <h3 class="mt-4 mb-2"><i class="fa-solid fa-2 me-2 text-primary"></i>Layer 2: Storage</h3>
                <p><strong>Purpose:</strong> Store telemetry data with different access patterns and retention policies.
                </p>
                <p>Storage is divided into three tiers based on access frequency:</p>

                <h4 class="mt-3"><strong>Hot Storage</strong> (Frequent Access)</h4>
                <p><strong>Services:</strong></p>
                <ul>
                    <li><i class="fa-brands fa-aws text-warning"></i> <strong>AWS:</strong> DynamoDB</li>
                    <li><i class="fa-brands fa-microsoft text-info"></i> <strong>Azure:</strong> CosmosDB</li>
                    <li><i class="fa-brands fa-google text-success"></i> <strong>GCP:</strong> Firestore</li>
                </ul>
                <p><strong>Use Case:</strong> Recent data requiring low-latency access (e.g., last 1-3 months)</p>

                <h4 class="mt-3"><strong>Cool Storage</strong> (Infrequent Access)</h4>
                <p><strong>Services:</strong></p>
                <ul>
                    <li><i class="fa-brands fa-aws text-warning"></i> <strong>AWS:</strong> S3 Infrequent Access</li>
                    <li><i class="fa-brands fa-microsoft text-info"></i> <strong>Azure:</strong> Blob Storage (Cool
                        Tier)</li>
                    <li><i class="fa-brands fa-google text-success"></i> <strong>GCP:</strong> Cloud Storage (Nearline)
                    </li>
                </ul>
                <p><strong>Use Case:</strong> Historical data accessed occasionally (e.g., 3-12 months)</p>

                <h4 class="mt-3"><strong>Archive Storage</strong> (Rare Access)</h4>
                <p><strong>Services:</strong></p>
                <ul>
                    <li><i class="fa-brands fa-aws text-warning"></i> <strong>AWS:</strong> S3 Glacier Deep Archive</li>
                    <li><i class="fa-brands fa-microsoft text-info"></i> <strong>Azure:</strong> Blob Storage (Archive
                        Tier)</li>
                    <li><i class="fa-brands fa-google text-success"></i> <strong>GCP:</strong> Cloud Storage (Archive)
                    </li>
                </ul>
                <p><strong>Use Case:</strong> Long-term archival data (e.g., 12+ months)</p>

                <h3 class="mt-4 mb-2"><i class="fa-solid fa-3 me-2 text-primary"></i>Layer 3: Data Processing &
                    Integration</h3>
                <p><strong>Purpose:</strong> Process, transform, and route data between storage tiers.</p>
                <p><strong>Services:</strong></p>
                <ul>
                    <li><i class="fa-brands fa-aws text-warning"></i> <strong>AWS:</strong> Lambda</li>
                    <li><i class="fa-brands fa-microsoft text-info"></i> <strong>Azure:</strong> Azure Functions</li>
                    <li><i class="fa-brands fa-google text-success"></i> <strong>GCP:</strong> Cloud Functions</li>
                </ul>
                <p><strong>Cost Factors:</strong></p>
                <ul>
                    <li>Number of function invocations</li>
                    <li>Compute time (GB-seconds)</li>
                    <li>Memory allocation</li>
                </ul>
                <p><strong>Note:</strong> Layer 3 is coupled with the provider selected for Layer 2 Hot Storage to
                    minimize data transfer costs.</p>

                <h3 class="mt-4 mb-2"><i class="fa-solid fa-4 me-2 text-primary"></i>Layer 4: Twin Management</h3>
                <p><strong>Purpose:</strong> Manage 3D models and digital twin representations.</p>
                <p><strong>Services:</strong></p>
                <ul>
                    <li><i class="fa-brands fa-aws text-warning"></i> <strong>AWS:</strong> IoT TwinMaker</li>
                    <li><i class="fa-brands fa-microsoft text-info"></i> <strong>Azure:</strong> Azure Digital Twins
                    </li>
                    <li><i class="fa-brands fa-google text-success"></i> <strong>GCP:</strong> Self-hosted equivalent
                    </li>
                </ul>
                <p><strong>Cost Factors:</strong></p>
                <ul>
                    <li>Number of 3D entities</li>
                    <li>API calls for data access</li>
                    <li>Query operations</li>
                </ul>
                <p><strong>Note:</strong> This layer is optional and only included if 3D models are required.</p>

                <h3 class="mt-4 mb-2"><i class="fa-solid fa-5 me-2 text-primary"></i>Layer 5: Data Visualization</h3>
                <p><strong>Purpose:</strong> Provide dashboards and visualization for operators.</p>
                <p><strong>Services:</strong></p>
                <ul>
                    <li><i class="fa-brands fa-aws text-warning"></i> <strong>AWS:</strong> Amazon Managed Grafana</li>
                    <li><i class="fa-brands fa-microsoft text-info"></i> <strong>Azure:</strong> Azure Managed Grafana
                    </li>
                    <li><i class="fa-brands fa-google text-success"></i> <strong>GCP:</strong> Self-hosted Grafana
                        (Note: Cost model is currently a placeholder)</li>
                </ul>
                <p><strong>Cost Factors:</strong></p>
                <ul>
                    <li>Number of editor users</li>
                    <li>Number of viewer users</li>
                    <li>Dashboard refresh frequency</li>
                    <li>Active hours per day</li>
                </ul>
            </div>

            <!-- Cloud Provider Mapping -->
            <div class="card mb-4">
                <h2 class="mb-3"><i class="fa-solid fa-cloud me-2"></i>Cloud Provider Service Mapping</h2>
                <p>The following table shows how cloud services are mapped across providers for each layer:</p>
                <img src="../references/provider_layer_mapping_1763756000144.png" alt="Provider Service Mapping"
                    class="img-fluid rounded shadow mt-3" style="max-width: 100%;">
            </div>

            <!-- Cost Optimization Strategy -->
            <div class="card mb-4">
                <h2 class="mb-3"><i class="fa-solid fa-chart-line me-2"></i>Cost Optimization Strategy</h2>
                <p>Twin2Clouds uses a sophisticated decision engine to determine the optimal cloud provider for each
                    layer:</p>

                <h3 class="mb-2 mt-3">Layer 1 & 3 Selection</h3>
                <p>
                    The system selects the provider that minimizes the combined cost of data acquisition (L1) and data
                    transfer to the selected hot storage provider. Layer 3 is automatically coupled with the Layer 2 hot
                    storage provider to minimize data movement costs.
                </p>

                <h3 class="mb-2 mt-3">Layer 2 Storage Path</h3>
                <p>
                    The storage layers (Hot → Cool → Archive) are optimized using a graph-based path-finding algorithm
                    that considers:
                </p>
                <ul>
                    <li>Storage costs per GB</li>
                    <li>Data transfer costs between tiers</li>
                    <li>Cross-cloud egress charges</li>
                    <li>Data retrieval prices</li>
                </ul>
                <p>
                    The system finds the cheapest path through all storage tiers, allowing mixing providers if
                    beneficial (e.g., AWS Hot → GCP Cool → AWS Archive).
                </p>

                <h3 class="mb-2 mt-3">Layer 4 & 5 Selection</h3>
                <p>
                    Twin Management and Visualization layers are selected independently based on their individual costs
                    since they don't have significant data dependencies on other layers.
                </p>
            </div>

            <!-- Data Flow -->
            <div class="card mb-4">
                <h2 class="mb-3"><i class="fa-solid fa-flow me-2"></i>Data Flow</h2>
                <p>The typical data flow through the system:</p>
                <ol>
                    <li><strong>Ingestion:</strong> IoT devices send telemetry to Layer 1 (IoT Hub/Core)</li>
                    <li><strong>Processing:</strong> Layer 3 serverless functions process and validate the data</li>
                    <li><strong>Hot Storage:</strong> Recent data is stored in Layer 2 Hot (DynamoDB/CosmosDB/Firestore)
                    </li>
                    <li><strong>Tiering:</strong> Data ages and is moved to Cool → Archive storage tiers</li>
                    <li><strong>Twin Updates:</strong> Layer 4 maintains the digital twin model (if enabled)</li>
                    <li><strong>Visualization:</strong> Layer 5 dashboards query and display data to users</li>
                </ol>
            </div>

            <!-- Cross-Cloud Considerations -->
            <div class="card mb-4">
                <h2 class="mb-3"><i class="fa-solid fa-shuffle me-2"></i>Cross-Cloud Considerations</h2>
                <p>When the optimizer selects services from different cloud providers, it accounts for:</p>
                <ul>
                    <li><strong>Egress Costs:</strong> Data transfer charges when moving data between clouds</li>
                    <li><strong>Latency:</strong> Network latency between providers (currently not factored into cost)
                    </li>
                    <li><strong>Complexity:</strong> Operational overhead of managing multi-cloud deployments</li>
                </ul>
                <p class="alert alert-info mt-3">
                    <i class="fa-solid fa-info-circle me-2"></i>
                    <strong>Note:</strong> The current optimization focuses purely on cost. In production deployments,
                    latency requirements should also be considered, as well as data sovereignty and operational
                    complexity.
                </p>
            </div>

        </main>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <button id="backToTop" class="btn btn-primary rounded-circle position-fixed bottom-0 end-0 m-4 shadow fade p-3"
        style="display:none;">
        <i class="fa-solid fa-arrow-up"></i>
    </button>
    <script src="../js/docs-nav.js" defer></script>
</body>

</html>