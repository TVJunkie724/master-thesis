<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Cost Formulas & Service Mapping ‚Äî Multi-Cloud</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="../css/docs_styles.css" />
  <script src="../js/docs-nav.js" defer></script>
</head>

<body>
  <div class="docs-layout">
    <div id="sidebar-container"></div>
    <div class="docs-content">
      <header>
        <h1>Cost Formulas & Service Mapping</h1>
        <p>Describes mathematical formulas used for dynamic pricing and how each provider‚Äôs services map to them.</p>
      </header>
      <main>

        <div class="card">
          <h2>1Ô∏è‚É£ Formula Overview</h2>
          <p>Each formula is defined in <code>formulas.json</code>.
            Mathematical symbols correspond to service-specific parameters, typically fetched dynamically from AWS or
            Azure
            APIs.</p>

          <table>
            <tr>
              <th>ID</th>
              <th>Name</th>
              <th>Expression</th>
              <th>Description</th>
            </tr>
            <tr>
              <td class="mono">CM</td>
              <td>Message-Based Cost</td>
              <td><code>c_m * N_m</code></td>
              <td>Cost for IoT message ingestion (IoT Core, IoT Hub).</td>
            </tr>
            <tr>
              <td class="mono">CE</td>
              <td>Execution-Based Cost</td>
              <td><code>c_e * max(0, N_e ‚àí freeRequests) + c_t * max(0, T_e ‚àí freeComputeTime)</code></td>
              <td>Combines per-request and per-duration serverless billing.</td>
            </tr>
            <tr>
              <td class="mono">CA</td>
              <td>Action-Based Cost</td>
              <td><code>c_a * N_a</code></td>
              <td>Applies to API calls, reads/writes, or retrievals.</td>
            </tr>
            <tr>
              <td class="mono">CS</td>
              <td>Storage-Based Cost</td>
              <td><code>c_s * V * D</code></td>
              <td>Storage cost per GB-month over duration D.</td>
            </tr>
            <tr>
              <td class="mono">CU</td>
              <td>User-Based Cost</td>
              <td><code>(c_u_editor * N_editor + c_u_viewer * N_viewer) + c_u_hour * H</code></td>
              <td>User-licensed services (Grafana) per user and workspace hour.</td>
            </tr>
            <tr>
              <td class="mono">CTransfer</td>
              <td>Data Transfer Cost</td>
              <td><code>c_transfer * GB_transferred</code></td>
              <td>Egress data transfer per GB to Internet or other clouds.</td>
            </tr>
          </table>

          <p>üìò See theoretical foundation in the paper:
            <a href="./references/formulas_paper.pdf">Cloud Pricing and Cost Modeling (PDF)</a>
          </p>
        </div>

        <div class="card">
          <h2>2Ô∏è‚É£ Parameter Definitions</h2>
          <p>Common parameters used across formulas:</p>
          <pre>{
  "c_m": "price per message",
  "N_m": "total messages",
  "c_e": "price per execution",
  "T_e": "total compute seconds",
  "c_s": "price per GB-month",
  "V": "storage volume",
  "D": "duration months",
  "c_u_editor": "price per editor",
  "H": "total hours per billing period"
}</pre>
        </div>

        <div class="card">
          <h2>3Ô∏è‚É£ Service ‚Üí Formula Mapping</h2>
          <p>This section shows how services from each provider use one or multiple cost formulas defined above.
            Each parameter mapping follows the structure of <code>service_calc_params.json</code>.</p>

          <h3>AWS Services</h3>
          <table>
            <tr>
              <th>Service</th>
              <th>Formula(s)</th>
              <th>Parameter Mappings</th>
              <th>Description</th>
            </tr>

            <tr>
              <td>AWS IoT Core</td>
              <td class="mono">CM</td>
              <td>
                <code>c_m ‚Üí pricePerMessage</code><br>
                <code>N_m ‚Üí numberOfMessages</code>
              </td>
              <td>Message ingestion cost per IoT message published or received.</td>
            </tr>

            <tr>
              <td>AWS Lambda</td>
              <td class="mono">CE</td>
              <td>
                <code>c_e ‚Üí requestPrice</code><br>
                <code>N_e ‚Üí numberOfRequests</code><br>
                <code>freeRequests ‚Üí freeRequests</code><br>
                <code>c_t ‚Üí durationPrice</code><br>
                <code>T_e ‚Üí totalGBSeconds</code><br>
                <code>freeComputeTime ‚Üí freeComputeTime</code>
              </td>
              <td>Serverless compute billed by request and GB-second of execution time.</td>
            </tr>

            <tr>
              <td>DynamoDB (storage_hot)</td>
              <td class="mono">CA + CS</td>
              <td>
                <code>c_a_read ‚Üí readPrice</code><br>
                <code>N_a_read ‚Üí numberOfReads</code><br>
                <code>c_a_write ‚Üí writePrice</code><br>
                <code>N_a_write ‚Üí numberOfWrites</code><br>
                <code>c_s ‚Üí storagePrice</code><br>
                <code>V ‚Üí storageVolume</code><br>
                <code>D ‚Üí durationMonths</code>
              </td>
              <td>Read/write request pricing combined with per-GB-month data storage.</td>
            </tr>

            <tr>
              <td>S3 Infrequent Access (storage_cool)</td>
              <td class="mono">CS</td>
              <td>
                <code>c_s ‚Üí storagePrice</code><br>
                <code>V ‚Üí storageVolume</code><br>
                <code>D ‚Üí durationMonths</code>
              </td>
              <td>Cold storage cost per GB-month of retained data.</td>
            </tr>

            <tr>
              <td>S3 Glacier Deep Archive (storage_archive)</td>
              <td class="mono">CS + CA</td>
              <td>
                <code>c_s ‚Üí storagePrice</code><br>
                <code>V ‚Üí storageVolume</code><br>
                <code>D ‚Üí durationMonths</code><br>
                <code>c_a ‚Üí retrievalPrice</code><br>
                <code>N_a ‚Üí retrievedGB</code>
              </td>
              <td>Archival storage plus retrieval fees for accessed data.</td>
            </tr>

            <tr>
              <td>IoT TwinMaker</td>
              <td class="mono">CA</td>
              <td>
                <code>c_a ‚Üí queryPrice</code><br>
                <code>N_a ‚Üí numberOfQueries</code>
              </td>
              <td>Per-query or entity operation cost for digital twin data.</td>
            </tr>

            <tr>
              <td>AWS Managed Grafana</td>
              <td class="mono">CU</td>
              <td>
                <code>c_u_editor ‚Üí editorPrice</code><br>
                <code>N_editor ‚Üí numberOfEditors</code><br>
                <code>c_u_viewer ‚Üí viewerPrice</code><br>
                <code>N_viewer ‚Üí numberOfViewers</code><br>
                <code>c_u_hour ‚Üí workspaceHourlyPrice</code><br>
                <code>H ‚Üí hoursPerMonth</code>
              </td>
              <td>Cost for Grafana user licensing and optional workspace runtime.</td>
            </tr>

            <tr>
              <td>Data Transfer</td>
              <td class="mono">CTransfer</td>
              <td>
                <code>c_transfer ‚Üí egressPrice</code><br>
                <code>GB_transferred ‚Üí transferVolume</code>
              </td>
              <td>Egress data transfer charged per GB.</td>
            </tr>
          </table>

          <h3>Azure Services</h3>
          <table>
            <tr>
              <th>Service</th>
              <th>Formula(s)</th>
              <th>Parameter Mappings</th>
              <th>Description</th>
            </tr>

            <tr>
              <td>Azure IoT Hub</td>
              <td class="mono">CM</td>
              <td>
                <code>c_m ‚Üí pricePerMessage</code><br>
                <code>N_m ‚Üí numberOfMessages</code>
              </td>
              <td>Message ingestion per message, with defined volume tiers.</td>
            </tr>

            <tr>
              <td>Azure Functions</td>
              <td class="mono">CE</td>
              <td>
                <code>c_e ‚Üí requestPrice</code><br>
                <code>N_e ‚Üí numberOfRequests</code><br>
                <code>freeRequests ‚Üí freeRequests</code><br>
                <code>c_t ‚Üí durationPrice</code><br>
                <code>T_e ‚Üí totalGBSeconds</code><br>
                <code>freeComputeTime ‚Üí freeComputeTime</code>
              </td>
              <td>Execution cost per request and runtime duration.</td>
            </tr>

            <tr>
              <td>Cosmos DB (storage_hot)</td>
              <td class="mono">CA + CS</td>
              <td>
                <code>c_a ‚Üí requestUnitPrice</code><br>
                <code>N_a ‚Üí provisionedRU</code><br>
                <code>c_s ‚Üí storagePrice</code><br>
                <code>V ‚Üí storageVolume</code><br>
                <code>D ‚Üí durationMonths</code>
              </td>
              <td>Throughput and data storage billing combined.</td>
            </tr>

            <tr>
              <td>Blob Storage (storage_cool)</td>
              <td class="mono">CS</td>
              <td>
                <code>c_s ‚Üí storagePrice</code><br>
                <code>V ‚Üí storageVolume</code><br>
                <code>D ‚Üí durationMonths</code>
              </td>
              <td>Per GB-month cost for cool-tier object storage.</td>
            </tr>

            <tr>
              <td>Blob Storage (storage_archive)</td>
              <td class="mono">CS + CA</td>
              <td>
                <code>c_s ‚Üí storagePrice</code><br>
                <code>V ‚Üí storageVolume</code><br>
                <code>D ‚Üí durationMonths</code><br>
                <code>c_a ‚Üí dataRetrievalPrice</code><br>
                <code>N_a ‚Üí retrievedGB</code>
              </td>
              <td>Archive and retrieval combined pricing model.</td>
            </tr>

            <tr>
              <td>Azure Digital Twins</td>
              <td class="mono">CA</td>
              <td>
                <code>c_a ‚Üí operationPrice</code><br>
                <code>N_a ‚Üí numberOfOperations</code>
              </td>
              <td>Operations and queries billed per call or entity operation.</td>
            </tr>

            <tr>
              <td>Azure Managed Grafana</td>
              <td class="mono">CU</td>
              <td>
                <code>c_u ‚Üí userPrice</code><br>
                <code>N_u ‚Üí numberOfUsers</code><br>
                <code>c_u_hour ‚Üí hourlyPrice</code><br>
                <code>H ‚Üí hoursPerMonth</code>
              </td>
              <td>Per-user and per-instance runtime billing.</td>
            </tr>

            <tr>
              <td>Azure Data Transfer</td>
              <td class="mono">CTransfer</td>
              <td>
                <code>c_transfer ‚Üí egressPrice</code><br>
                <code>GB_transferred ‚Üí transferVolume</code>
              </td>
              <td>Outbound data transfer per GB.</td>
            </tr>
          </table>
        </div>

        <div class="card">
          <h2>4Ô∏è‚É£ Reference & Source Material</h2>
          <p>
            All cost and pricing formulas (<code>CM</code>, <code>CE</code>, <code>CA</code>, <code>CS</code>,
            <code>CU</code>, <code>CTransfer</code>)
            originate from the formal cost model presented in the following peer-reviewed publication:
          </p>

          <div class="section-note">
            <strong>üìò Citation:</strong><br>
            Philipp Gritsch, Deniz Pierer, Luca Berardinelli, Michael Felderer, and Sashko Ristov.<br>
            <em>‚ÄúTwin2Clouds: Cost-Aware Digital Twin Engineering and Deployment Across Federated Clouds.‚Äù</em><br>
            <span>In <strong>Companion Proceedings of the IEEE/ACM International Conference on MODELS 2025
                (MODELS-C)</strong>, IEEE, 2025.</span><br>
            <span>Universities: University of Innsbruck (Austria), Johannes Kepler University Linz (Austria), German
              Aerospace Center (DLR, Germany), University of Cologne (Germany).</span><br>
            <!-- DOI: <a href="https://doi.org/10.1109/MODELS-C68889.2025.00045"
          target="_blank">10.1109/MODELS-C68889.2025.00045</a> -->
            DOI: 10.1109/MODELS-C68889.2025.00045
          </div>

          <p>
            This paper formalizes the <strong>cost and pricing primitives</strong> that underpin the formulas used
            throughout
            this documentation and defines the mathematical foundation for mapping cloud services (AWS, Azure)
            to cost categories and workload parameters.
          </p>

          <p>
            You can access the full document here:
            <br>
            üîó <a href="../references/EDT_25__CloudDT_engineering.pdf" target="_blank">Download the full paper (PDF)</a>
          </p>

          <p>
            For consistency, the implementation in this documentation directly mirrors the model presented in the paper,
            ensuring theoretical accuracy between the analytical and code-based cost calculations.
          </p>
        </div>

      </main>
    </div>
</body>

</html>