<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Google Cloud Pricing Schema — Twin2Clouds Documentation</title>
    <link rel="icon" type="image/x-icon" href="../references/favicon.ico">
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="../css/docs_styles.css" />
</head>

<body>

    <div class="layout">
        <aside id="nav-placeholder"></aside>

        <main class="p-4">
            <h1 class="mb-3">
                <i class="fa-brands fa-google me-2 text-danger"></i> Google Cloud Pricing Schema
            </h1>

            <p class="text-muted mb-4">
                Field sources, fetched dimensions, static defaults, and calculated logic for
                <span class="mono">pricing.json</span> (Google Cloud section).
            </p>

            <div class="alert alert-warning" role="alert">
                <i class="fa-solid fa-triangle-exclamation me-2"></i>
                <strong>Note:</strong> Google Cloud pricing is currently <strong>static</strong>. Dynamic fetching via
                the Google Cloud Billing Catalog API is planned for a future release.
            </div>

            <!-- Schema Overview -->
            <div class="card mb-4" id="schema">
                <div class="card-body">
                    <h2 class="mb-3"><i class="fa-solid fa-file-code me-2"></i>Schema Overview</h2>
                    <p>Target structure (Google excerpt from <span class="mono">pricing.json</span>):</p>
                    <pre class="p-3 rounded border"><code>{
  "google": {
    "transfer": {
      "pricing_tiers": {
        "freeTier": { "limit": 100, "price": 0 },
        "tier1": { "limit": 10240, "price": 0.12 },
        "tier2": { "limit": "Infinity", "price": 0.08 }
      },
      "egressPrice": 0.12
    },
    "pubSub": {
      "pricePerGiB": 0.04 // Fetched (Throughput)
    },
    "eventBus": {
      "pricePerGiB": 0.04, // Same as Pub/Sub
      "pricePerMessage": 0.00004
    },
    "cloudFunctions": {
      "invocationPrice": 0.40,
      "gbSecondPrice": 0.0000025,
      "ghzSecondPrice": 0.0000100
    },
    "firestore": {
      "documentReadPrice": 0.06,
      "documentWritePrice": 0.18,
      "documentDeletePrice": 0.02,
      "storagePrice": 0.18
    },
    "cloudStorageNearline": {
      "storagePrice": 0.010,
      "operationPrice": 0.01
    },
    "cloudStorageArchive": {
      "storagePrice": 0.0012,
      "operationPrice": 0.05
    },
    "apiGateway": {
      "pricePerMillionCalls": 3.00,
      "dataTransferOutPrice": 0.12
    },
    "cloudScheduler": {
      "jobPrice": 0.10
    },
    "cloudWorkflows": {
      "stepPrice": 0.01
    },
    "computeEngine": {
      "e2MediumPrice": 0.0335,
      "storagePrice": 0.04
    }
  }
}</code></pre>
                </div>
            </div>

            <!-- Services -->
            <div class="card mb-4" id="services">
                <div class="card-body">
                    <h2 class="mb-3"><i class="fa-solid fa-cubes me-2"></i>Services & Fields</h2>

                    <!-- Transfer -->
                    <h3 class="mt-4 mb-2 text-primary">Data Transfer (Egress)</h3>
                    <p><strong>Service:</strong> Network</p>
                    <table class="table table-hover table-bordered">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Source</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="mono">transfer.pricing_tiers</td>
                                <td><span class="badge text-bg-info">Fetchable (Planned)</span></td>
                                <td>Tiered pricing (First 100GB free/cheap, then tiered).</td>
                            </tr>
                            <tr>
                                <td class="mono">egressPrice</td>
                                <td><span class="badge text-bg-info">Fetchable (Planned)</span></td>
                                <td>Base egress price ($0.12/GB).</td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- Pub/Sub -->
                    <h3 class="mt-4 mb-2 text-primary">Cloud Pub/Sub (Layer 1 & Event Bus)</h3>
                    <p><strong>Service:</strong> Cloud Pub/Sub</p>
                    <table class="table table-hover table-bordered">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Source</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="mono">pricePerGiB</td>
                                <td><span class="badge text-bg-info">Fetchable (Planned)</span></td>
                                <td>Throughput cost per GiB (e.g., $40/TiB ≈ $0.04/GiB).</td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- Functions -->
                    <h3 class="mt-4 mb-2 text-primary">Cloud Functions (Layer 2)</h3>
                    <p><strong>Service:</strong> Cloud Functions</p>
                    <table class="table table-hover table-bordered">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Source</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="mono">invocationPrice</td>
                                <td><span class="badge text-bg-info">Fetchable (Planned)</span></td>
                                <td>Per million invocations ($0.40).</td>
                            </tr>
                            <tr>
                                <td class="mono">gbSecondPrice</td>
                                <td><span class="badge text-bg-info">Fetchable (Planned)</span></td>
                                <td>Per GB-second ($0.0000025).</td>
                            </tr>
                            <tr>
                                <td class="mono">ghzSecondPrice</td>
                                <td><span class="badge text-bg-info">Fetchable (Planned)</span></td>
                                <td>Per GHz-second ($0.0000100).</td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- Firestore -->
                    <h3 class="mt-4 mb-2 text-primary">Firestore (Layer 3 - Hot)</h3>
                    <p><strong>Service:</strong> Cloud Firestore</p>
                    <table class="table table-hover table-bordered">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Source</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="mono">documentReadPrice</td>
                                <td><span class="badge text-bg-info">Fetchable (Planned)</span></td>
                                <td>Per 100,000 reads ($0.06).</td>
                            </tr>
                            <tr>
                                <td class="mono">documentWritePrice</td>
                                <td><span class="badge text-bg-info">Fetchable (Planned)</span></td>
                                <td>Per 100,000 writes ($0.18).</td>
                            </tr>
                            <tr>
                                <td class="mono">documentDeletePrice</td>
                                <td><span class="badge text-bg-info">Fetchable (Planned)</span></td>
                                <td>Per 100,000 deletes ($0.02).</td>
                            </tr>
                            <tr>
                                <td class="mono">storagePrice</td>
                                <td><span class="badge text-bg-info">Fetchable (Planned)</span></td>
                                <td>Per GB-month ($0.18).</td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- Cloud Storage (Cool) -->
                    <h3 class="mt-4 mb-2 text-primary">Layer 3 (Cool): Cloud Storage</h3>
                    <p><strong>Service:</strong> Cloud Storage (Nearline)</p>
                    <table class="table table-hover table-bordered">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Source</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="mono">cloudStorageNearline.storagePrice</td>
                                <td><span class="badge text-bg-info">Fetchable (Planned)</span></td>
                                <td>Nearline storage per GB-month ($0.010).</td>
                            </tr>
                            <tr>
                                <td class="mono">cloudStorageNearline.operationPrice</td>
                                <td><span class="badge text-bg-info">Fetchable (Planned)</span></td>
                                <td>Nearline operations (approx).</td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- Cloud Storage (Archive) -->
                    <h3 class="mt-4 mb-2 text-primary">Layer 3 (Archive): Cloud Storage</h3>
                    <p><strong>Service:</strong> Cloud Storage (Archive)</p>
                    <table class="table table-hover table-bordered">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Source</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="mono">cloudStorageArchive.storagePrice</td>
                                <td><span class="badge text-bg-info">Fetchable (Planned)</span></td>
                                <td>Archive storage per GB-month ($0.0012).</td>
                            </tr>
                            <tr>
                                <td class="mono">cloudStorageArchive.operationPrice</td>
                                <td><span class="badge text-bg-info">Fetchable (Planned)</span></td>
                                <td>Archive operations (approx).</td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- API Gateway -->
                    <h3 class="mt-4 mb-2 text-primary">Data Access (Supporting)</h3>
                    <p><strong>Service:</strong> API Gateway</p>
                    <table class="table table-hover table-bordered">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Source</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="mono">pricePerMillionCalls</td>
                                <td><span class="badge text-bg-info">Fetchable (Planned)</span></td>
                                <td>Per million calls ($3.00).</td>
                            </tr>
                            <tr>
                                <td class="mono">dataTransferOutPrice</td>
                                <td><span class="badge text-bg-info">Fetchable (Planned)</span></td>
                                <td>Standard egress rates apply.</td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- Cloud Scheduler -->
                    <h3 class="mt-4 mb-2 text-primary">Orchestration (Supporting)</h3>
                    <p><strong>Service:</strong> Cloud Scheduler</p>
                    <table class="table table-hover table-bordered">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Source</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="mono">jobPrice</td>
                                <td><span class="badge text-bg-info">Fetchable (Planned)</span></td>
                                <td>Per job per month ($0.10).</td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- Cloud Workflows -->
                    <h3 class="mt-4 mb-2 text-primary">Orchestration (Supporting)</h3>
                    <p><strong>Service:</strong> Cloud Workflows</p>
                    <table class="table table-hover table-bordered">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Source</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="mono">stepPrice</td>
                                <td><span class="badge text-bg-info">Fetchable (Planned)</span></td>
                                <td>Per 1,000 steps ($0.01).</td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- Compute Engine -->
                    <h3 class="mt-4 mb-2 text-primary">Self-Hosted L4/L5</h3>
                    <p><strong>Service:</strong> Compute Engine (e2-medium)</p>
                    <table class="table table-hover table-bordered">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Source</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="mono">e2MediumPrice</td>
                                <td><span class="badge text-bg-info">Fetchable (Planned)</span></td>
                                <td>Hourly price for e2-medium instance ($0.0335).</td>
                            </tr>
                            <tr>
                                <td class="mono">storagePrice</td>
                                <td><span class="badge text-bg-info">Fetchable (Planned)</span></td>
                                <td>Standard Persistent Disk per GB-month ($0.04).</td>
                            </tr>
                        </tbody>
                    </table>

                </div>
            </div>

            <!-- Calculated Fields -->
            <div class="card mb-4" id="calculated">
                <div class="card-body">
                    <h2 class="mb-3"><i class="fa-solid fa-calculator me-2"></i>Calculated Fields</h2>
                    <p>These values are derived in <span class="mono">apply_google_derived_fields()</span> after
                        fetching.</p>
                    <table class="table table-hover table-bordered">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Formula</th>
                                <th>Purpose</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="mono">pubSub.pricePerMessage</td>
                                <td><code>pricePerGiB * (avgMessageSize / 1024²)</code></td>
                                <td>Converts throughput cost to per-message cost.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </main>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <button id="backToTop" class="btn btn-primary rounded-circle position-fixed bottom-0 end-0 m-4 shadow fade p-3"
        style="display:none;">
        <i class="fa-solid fa-arrow-up"></i>
    </button>
    <script src="../js/docs-nav.js" defer></script>
</body>

</html>